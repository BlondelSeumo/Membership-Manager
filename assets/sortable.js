/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
(function(a){"use strict";if(typeof define==="function"&&define.amd){define(a)}else if(typeof module!="undefined"&&typeof module.exports!="undefined"){module.exports=a()}else if(typeof Package!=="undefined"){Sortable=a()}else{window["Sortable"]=a()}})(function(){"use strict";if(typeof window=="undefined"||typeof window.document=="undefined"){return function(){throw new Error("Sortable.js requires a window with a document");}}var j,parentEl,ghostEl,cloneEl,rootEl,nextEl,scrollEl,scrollParentEl,lastEl,lastCSS,lastParentCSS,oldIndex,newIndex,activeGroup,autoScroll={},tapEvt,touchEvt,moved,RSPACE=/\s+/g,expando='Sortable'+(new Date).getTime(),win=window,document=win.document,parseInt=win.parseInt,supportDraggable=!!('draggable'in document.createElement('div')),supportCssPointerEvents=(function(a){a=document.createElement('x');a.style.cssText='pointer-events:auto';return a.style.pointerEvents==='auto'})(),_silent=false,abs=Math.abs,slice=[].slice,touchDragOverListeners=[],_autoScroll=_throttle(function(a,b,c){if(c&&b.scroll){var d,rect,sens=b.scrollSensitivity,speed=b.scrollSpeed,x=a.clientX,y=a.clientY,winWidth=window.innerWidth,winHeight=window.innerHeight,vx,vy;if(scrollParentEl!==c){scrollEl=b.scroll;scrollParentEl=c;if(scrollEl===true){scrollEl=c;do{if((scrollEl.offsetWidth<scrollEl.scrollWidth)||(scrollEl.offsetHeight<scrollEl.scrollHeight)){break}}while(scrollEl=scrollEl.parentNode)}}if(scrollEl){d=scrollEl;rect=scrollEl.getBoundingClientRect();vx=(abs(rect.right-x)<=sens)-(abs(rect.left-x)<=sens);vy=(abs(rect.bottom-y)<=sens)-(abs(rect.top-y)<=sens)}if(!(vx||vy)){vx=(winWidth-x<=sens)-(x<=sens);vy=(winHeight-y<=sens)-(y<=sens);(vx||vy)&&(d=win)}if(autoScroll.vx!==vx||autoScroll.vy!==vy||autoScroll.el!==d){autoScroll.el=d;autoScroll.vx=vx;autoScroll.vy=vy;clearInterval(autoScroll.pid);if(d){autoScroll.pid=setInterval(function(){if(d===win){win.scrollTo(win.pageXOffset+vx*speed,win.pageYOffset+vy*speed)}else{vy&&(d.scrollTop+=vy*speed);vx&&(d.scrollLeft+=vx*speed)}},24)}}}},30),_prepareGroup=function(b){var c=b.group;if(!c||typeof c!='object'){c=b.group={name:c}}['pull','put'].forEach(function(a){if(!(a in c)){c[a]=true}});b.groups=' '+c.name+(c.put.join?' '+c.put.join(' '):'')+' '};function Sortable(c,d){if(!(c&&c.nodeType&&c.nodeType===1)){throw'Sortable: `el` must be HTMLElement, and not '+{}.toString.call(c)}this.el=c;this.options=d=_extend({},d);c[expando]=this;var e={group:Math.random(),sort:true,disabled:false,store:null,handle:null,scroll:true,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(c.nodeName)?'li':'>*',ghostClass:'sortable-ghost',chosenClass:'sortable-chosen',ignore:'a, img',filter:null,animation:0,setData:function(a,b){a.setData('Text',b.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:'data-id',delay:0,forceFallback:false,fallbackClass:'sortable-fallback',fallbackOnBody:false};for(var f in e){!(f in d)&&(d[f]=e[f])}_prepareGroup(d);for(var g in this){if(g.charAt(0)==='_'){this[g]=this[g].bind(this)}}this.nativeDraggable=d.forceFallback?false:supportDraggable;_on(c,'mousedown',this._onTapStart);_on(c,'touchstart',this._onTapStart);if(this.nativeDraggable){_on(c,'dragover',this);_on(c,'dragenter',this)}touchDragOverListeners.push(this._onDragOver);d.store&&this.sort(d.store.get(this))}Sortable.prototype={constructor:Sortable,_onTapStart:function(b){var c=this,el=this.el,options=this.options,type=b.type,touch=b.touches&&b.touches[0],target=(touch||b).target,originalTarget=target,filter=options.filter;if(type==='mousedown'&&b.button!==0||options.disabled){return}target=_closest(target,options.draggable,el);if(!target){return}oldIndex=_index(target,options.draggable);if(typeof filter==='function'){if(filter.call(this,b,target,this)){_dispatchEvent(c,originalTarget,'filter',target,el,oldIndex);b.preventDefault();return}}else if(filter){filter=filter.split(',').some(function(a){a=_closest(originalTarget,a.trim(),el);if(a){_dispatchEvent(c,a,'filter',target,el,oldIndex);return true}});if(filter){b.preventDefault();return}}if(options.handle&&!_closest(originalTarget,options.handle,el)){return}this._prepareDragStart(b,touch,target)},_prepareDragStart:function(b,c,d){var e=this,el=e.el,options=e.options,ownerDocument=el.ownerDocument,dragStartFn;if(d&&!j&&(d.parentNode===el)){tapEvt=b;rootEl=el;j=d;parentEl=j.parentNode;nextEl=j.nextSibling;activeGroup=options.group;dragStartFn=function(){e._disableDelayedDrag();j.draggable=true;_toggleClass(j,e.options.chosenClass,true);e._triggerDragStart(c)};options.ignore.split(',').forEach(function(a){_find(j,a.trim(),_disableDraggable)});_on(ownerDocument,'mouseup',e._onDrop);_on(ownerDocument,'touchend',e._onDrop);_on(ownerDocument,'touchcancel',e._onDrop);if(options.delay){_on(ownerDocument,'mouseup',e._disableDelayedDrag);_on(ownerDocument,'touchend',e._disableDelayedDrag);_on(ownerDocument,'touchcancel',e._disableDelayedDrag);_on(ownerDocument,'mousemove',e._disableDelayedDrag);_on(ownerDocument,'touchmove',e._disableDelayedDrag);e._dragStartTimer=setTimeout(dragStartFn,options.delay)}else{dragStartFn()}}},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer);_off(a,'mouseup',this._disableDelayedDrag);_off(a,'touchend',this._disableDelayedDrag);_off(a,'touchcancel',this._disableDelayedDrag);_off(a,'mousemove',this._disableDelayedDrag);_off(a,'touchmove',this._disableDelayedDrag)},_triggerDragStart:function(a){if(a){tapEvt={target:j,clientX:a.clientX,clientY:a.clientY};this._onDragStart(tapEvt,'touch')}else if(!this.nativeDraggable){this._onDragStart(tapEvt,true)}else{_on(j,'dragend',this);_on(rootEl,'dragstart',this._onDragStart)}try{if(document.selection){setTimeout(function(){document.selection.empty()})}else{window.getSelection().removeAllRanges()}}catch(err){}},_dragStarted:function(){if(rootEl&&j){_toggleClass(j,this.options.ghostClass,true);Sortable.active=this;_dispatchEvent(this,rootEl,'start',j,rootEl,oldIndex)}},_emulateDragOver:function(){if(touchEvt){if(this._lastX===touchEvt.clientX&&this._lastY===touchEvt.clientY){return}this._lastX=touchEvt.clientX;this._lastY=touchEvt.clientY;if(!supportCssPointerEvents){_css(ghostEl,'display','none')}var a=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),parent=a,groupName=' '+this.options.group.name+'',i=touchDragOverListeners.length;if(parent){do{if(parent[expando]&&parent[expando].options.groups.indexOf(groupName)>-1){while(i--){touchDragOverListeners[i]({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:a,rootEl:parent})}break}a=parent}while(parent=parent.parentNode)}if(!supportCssPointerEvents){_css(ghostEl,'display','')}}},_onTouchMove:function(a){if(tapEvt){if(!Sortable.active){this._dragStarted()}this._appendGhost();var b=a.touches?a.touches[0]:a,dx=b.clientX-tapEvt.clientX,dy=b.clientY-tapEvt.clientY,translate3d=a.touches?'translate3d('+dx+'px,'+dy+'px,0)':'translate('+dx+'px,'+dy+'px)';moved=true;touchEvt=b;_css(ghostEl,'webkitTransform',translate3d);_css(ghostEl,'mozTransform',translate3d);_css(ghostEl,'msTransform',translate3d);_css(ghostEl,'transform',translate3d);a.preventDefault()}},_appendGhost:function(){if(!ghostEl){var a=j.getBoundingClientRect(),css=_css(j),options=this.options,ghostRect;ghostEl=j.cloneNode(true);_toggleClass(ghostEl,options.ghostClass,false);_toggleClass(ghostEl,options.fallbackClass,true);_css(ghostEl,'top',a.top-parseInt(css.marginTop,10));_css(ghostEl,'left',a.left-parseInt(css.marginLeft,10));_css(ghostEl,'width',a.width);_css(ghostEl,'height',a.height);_css(ghostEl,'opacity','0.8');_css(ghostEl,'position','fixed');_css(ghostEl,'zIndex','100000');_css(ghostEl,'pointerEvents','none');options.fallbackOnBody&&document.body.appendChild(ghostEl)||rootEl.appendChild(ghostEl);ghostRect=ghostEl.getBoundingClientRect();_css(ghostEl,'width',a.width*2-ghostRect.width);_css(ghostEl,'height',a.height*2-ghostRect.height)}},_onDragStart:function(a,b){var c=a.dataTransfer,options=this.options;this._offUpEvents();if(activeGroup.pull=='clone'){cloneEl=j.cloneNode(true);_css(cloneEl,'display','none');rootEl.insertBefore(cloneEl,j)}if(b){if(b==='touch'){_on(document,'touchmove',this._onTouchMove);_on(document,'touchend',this._onDrop);_on(document,'touchcancel',this._onDrop)}else{_on(document,'mousemove',this._onTouchMove);_on(document,'mouseup',this._onDrop)}this._loopId=setInterval(this._emulateDragOver,50)}else{if(c){c.effectAllowed='move';options.setData&&options.setData.call(this,c,j)}_on(document,'drop',this);setTimeout(this._dragStarted,0)}},_onDragOver:function(a){var b=this.el,target,dragRect,revert,options=this.options,group=options.group,groupPut=group.put,isOwner=(activeGroup===group),canSort=options.sort;if(a.preventDefault!==void 0){a.preventDefault();!options.dragoverBubble&&a.stopPropagation()}moved=true;if(activeGroup&&!options.disabled&&(isOwner?canSort||(revert=!rootEl.contains(j)):activeGroup.pull&&groupPut&&((activeGroup.name===group.name)||(groupPut.indexOf&&~groupPut.indexOf(activeGroup.name))))&&(a.rootEl===void 0||a.rootEl===this.el)){_autoScroll(a,options,this.el);if(_silent){return}target=_closest(a.target,options.draggable,b);dragRect=j.getBoundingClientRect();if(revert){_cloneHide(true);if(cloneEl||nextEl){rootEl.insertBefore(j,cloneEl||nextEl)}else if(!canSort){rootEl.appendChild(j)}return}if((b.children.length===0)||(b.children[0]===ghostEl)||(b===a.target)&&(target=_ghostIsLast(b,a))){if(target){if(target.animated){return}c=target.getBoundingClientRect()}_cloneHide(isOwner);if(_onMove(rootEl,b,j,dragRect,target,c)!==false){if(!j.contains(b)){b.appendChild(j);parentEl=b}this._animate(dragRect,j);target&&this._animate(c,target)}}else if(target&&!target.animated&&target!==j&&(target.parentNode[expando]!==void 0)){if(lastEl!==target){lastEl=target;lastCSS=_css(target);lastParentCSS=_css(target.parentNode)}var c=target.getBoundingClientRect(),width=c.right-c.left,height=c.bottom-c.top,floating=/left|right|inline/.test(lastCSS.cssFloat+lastCSS.display)||(lastParentCSS.display=='flex'),isWide=(target.offsetWidth>j.offsetWidth),isLong=(target.offsetHeight>j.offsetHeight),halfway=(floating?(a.clientX-c.left)/width:(a.clientY-c.top)/height)>0.5,nextSibling=target.nextElementSibling,moveVector=_onMove(rootEl,b,j,dragRect,target,c),after;if(moveVector!==false){_silent=true;setTimeout(_unsilent,30);_cloneHide(isOwner);if(moveVector===1||moveVector===-1){after=(moveVector===1)}else if(floating){var d=j.offsetTop,tgTop=target.offsetTop;if(d===tgTop){after=(target.previousElementSibling===j)&&!isWide||halfway&&isWide}else{after=tgTop>d}}else{after=(nextSibling!==j)&&!isLong||halfway&&isLong}if(!j.contains(b)){if(after&&!nextSibling){b.appendChild(j)}else{target.parentNode.insertBefore(j,after?nextSibling:target)}}parentEl=j.parentNode;this._animate(dragRect,j);this._animate(c,target)}}}},_animate:function(a,b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();_css(b,'transition','none');_css(b,'transform','translate3d('+(a.left-d.left)+'px,'+(a.top-d.top)+'px,0)');b.offsetWidth;_css(b,'transition','all '+c+'ms');_css(b,'transform','translate3d(0,0,0)');clearTimeout(b.animated);b.animated=setTimeout(function(){_css(b,'transition','');_css(b,'transform','');b.animated=false},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;_off(document,'touchmove',this._onTouchMove);_off(a,'mouseup',this._onDrop);_off(a,'touchend',this._onDrop);_off(a,'touchcancel',this._onDrop)},_onDrop:function(a){var b=this.el,options=this.options;clearInterval(this._loopId);clearInterval(autoScroll.pid);clearTimeout(this._dragStartTimer);_off(document,'mousemove',this._onTouchMove);if(this.nativeDraggable){_off(document,'drop',this);_off(b,'dragstart',this._onDragStart)}this._offUpEvents();if(a){if(moved){a.preventDefault();!options.dropBubble&&a.stopPropagation()}ghostEl&&ghostEl.parentNode.removeChild(ghostEl);if(j){if(this.nativeDraggable){_off(j,'dragend',this)}_disableDraggable(j);_toggleClass(j,this.options.ghostClass,false);_toggleClass(j,this.options.chosenClass,false);if(rootEl!==parentEl){newIndex=_index(j,options.draggable);if(newIndex>=0){_dispatchEvent(null,parentEl,'sort',j,rootEl,oldIndex,newIndex);_dispatchEvent(this,rootEl,'sort',j,rootEl,oldIndex,newIndex);_dispatchEvent(null,parentEl,'add',j,rootEl,oldIndex,newIndex);_dispatchEvent(this,rootEl,'remove',j,rootEl,oldIndex,newIndex)}}else{cloneEl&&cloneEl.parentNode.removeChild(cloneEl);if(j.nextSibling!==nextEl){newIndex=_index(j,options.draggable);if(newIndex>=0){_dispatchEvent(this,rootEl,'update',j,rootEl,oldIndex,newIndex);_dispatchEvent(this,rootEl,'sort',j,rootEl,oldIndex,newIndex)}}}if(Sortable.active){if(newIndex==null||newIndex===-1){newIndex=oldIndex}_dispatchEvent(this,rootEl,'end',j,rootEl,oldIndex,newIndex);this.save()}}}this._nulling()},_nulling:function(){if(Sortable.active===this){rootEl=j=parentEl=ghostEl=nextEl=cloneEl=scrollEl=scrollParentEl=tapEvt=touchEvt=moved=newIndex=lastEl=lastCSS=activeGroup=Sortable.active=null}},handleEvent:function(a){var b=a.type;if(b==='dragover'||b==='dragenter'){if(j){this._onDragOver(a);_globalDragOver(a)}}else if(b==='drop'||b==='dragend'){this._onDrop(a)}},toArray:function(){var a=[],el,children=this.el.children,i=0,n=children.length,options=this.options;for(;i<n;i++){el=children[i];if(_closest(el,options.draggable,this.el)){a.push(el.getAttribute(options.dataIdAttr)||_generateId(el))}}return a},sort:function(c){var d={},rootEl=this.el;this.toArray().forEach(function(a,i){var b=rootEl.children[i];if(_closest(b,this.options.draggable,rootEl)){d[a]=b}},this);c.forEach(function(a){if(d[a]){rootEl.removeChild(d[a]);rootEl.appendChild(d[a])}})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return _closest(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;if(b===void 0){return c[a]}else{c[a]=b;if(a==='group'){_prepareGroup(c)}}},destroy:function(){var b=this.el;b[expando]=null;_off(b,'mousedown',this._onTapStart);_off(b,'touchstart',this._onTapStart);if(this.nativeDraggable){_off(b,'dragover',this);_off(b,'dragenter',this)}Array.prototype.forEach.call(b.querySelectorAll('[draggable]'),function(a){a.removeAttribute('draggable')});touchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver),1);this._onDrop();this.el=b=null}};function _cloneHide(a){if(cloneEl&&(cloneEl.state!==a)){_css(cloneEl,'display',a?'none':'');!a&&cloneEl.state&&rootEl.insertBefore(cloneEl,j);cloneEl.state=a}}function _closest(a,b,c){if(a){c=c||document;do{if((b==='>*'&&a.parentNode===c)||_matches(a,b)){return a}}while(a!==c&&(a=a.parentNode))}return null}function _globalDragOver(a){if(a.dataTransfer){a.dataTransfer.dropEffect='move'}a.preventDefault()}function _on(a,b,c){a.addEventListener(b,c,false)}function _off(a,b,c){a.removeEventListener(b,c,false)}function _toggleClass(a,b,c){if(a){if(a.classList){a.classList[c?'add':'remove'](b)}else{var d=(' '+a.className+' ').replace(RSPACE,' ').replace(' '+b+' ',' ');a.className=(d+(c?' '+b:'')).replace(RSPACE,' ')}}}function _css(a,b,c){var d=a&&a.style;if(d){if(c===void 0){if(document.defaultView&&document.defaultView.getComputedStyle){c=document.defaultView.getComputedStyle(a,'')}else if(a.currentStyle){c=a.currentStyle}return b===void 0?c:c[b]}else{if(!(b in d)){b='-webkit-'+b}d[b]=c+(typeof c==='string'?'':'px')}}}function _find(a,b,c){if(a){var d=a.getElementsByTagName(b),i=0,n=d.length;if(c){for(;i<n;i++){c(d[i],i)}}return d}return[]}function _dispatchEvent(a,b,c,d,e,f,g){var h=document.createEvent('Event'),options=(a||b[expando]).options,onName='on'+c.charAt(0).toUpperCase()+c.substr(1);h.initEvent(c,true,true);h.to=b;h.from=e||b;h.item=d||b;h.clone=cloneEl;h.oldIndex=f;h.newIndex=g;b.dispatchEvent(h);if(options[onName]){options[onName].call(a,h)}}function _onMove(a,b,c,d,e,f){var g,sortable=a[expando],onMoveFn=sortable.options.onMove,retVal;g=document.createEvent('Event');g.initEvent('move',true,true);g.to=b;g.from=a;g.dragged=c;g.draggedRect=d;g.related=e||b;g.relatedRect=f||b.getBoundingClientRect();a.dispatchEvent(g);if(onMoveFn){retVal=onMoveFn.call(sortable,g)}return retVal}function _disableDraggable(a){a.draggable=false}function _unsilent(){_silent=false}function _ghostIsLast(a,b){var c=a.lastElementChild,rect=c.getBoundingClientRect();return((b.clientY-(rect.top+rect.height)>5)||(b.clientX-(rect.right+rect.width)>5))&&c}function _generateId(a){var b=a.tagName+a.className+a.src+a.href+a.textContent,i=b.length,sum=0;while(i--){sum+=b.charCodeAt(i)}return sum.toString(36)}function _index(a,b){var c=0;if(!a||!a.parentNode){return-1}while(a&&(a=a.previousElementSibling)){if(a.nodeName.toUpperCase()!=='TEMPLATE'&&_matches(a,b)){c++}}return c}function _matches(a,b){if(a){b=b.split('.');var c=b.shift().toUpperCase(),re=new RegExp('\\s('+b.join('|')+')(?=\\s)','g');return((c===''||a.nodeName.toUpperCase()==c)&&(!b.length||((' '+a.className+' ').match(re)||[]).length==b.length))}return false}function _throttle(a,b){var c,_this;return function(){if(c===void 0){c=arguments;_this=this;setTimeout(function(){if(c.length===1){a.call(_this,c[0])}else{a.apply(_this,c)}c=void 0},b)}}}function _extend(a,b){if(a&&b){for(var c in b){if(b.hasOwnProperty(c)){a[c]=b[c]}}}return a}Sortable.utils={on:_on,off:_off,css:_css,find:_find,is:function(a,b){return!!_closest(a,b,a)},extend:_extend,throttle:_throttle,closest:_closest,toggleClass:_toggleClass,index:_index};Sortable.create=function(a,b){return new Sortable(a,b)};Sortable.version='1.4.2';return Sortable});(function(a){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}})(function($){"use strict";$.fn.sortable=function(b){var c,args=arguments;this.each(function(){var a=$(this),sortable=a.data('sortable');if(!sortable&&(b instanceof Object||!b)){sortable=new Sortable(this,b);a.data('sortable',sortable)}if(sortable){if(b==='widget'){return sortable}else if(b==='destroy'){sortable.destroy();a.removeData('sortable')}else if(typeof sortable[b]==='function'){c=sortable[b].apply(sortable,[].slice.call(args,1))}else if(b in sortable.options){c=sortable.option.apply(sortable,args)}}});return(c===void 0)?this:c}});